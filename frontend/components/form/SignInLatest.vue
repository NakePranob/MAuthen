<script setup lang="ts">
import { z } from 'zod';
import type { FormSubmitEvent } from '#ui/types'
import { useAuthStore } from '@/stores/auth'
// import type { User } from '@/types/user'
import { useRouter } from 'vue-router';

const router = useRouter();

const auth = useAuthStore()

const schema = z.object({
    email: z.string().email('Invalid email'),
    password: z.string().min(8, 'Must be at least 8 characters')
})

type Schema = z.output<typeof schema>

const state = reactive({
    email: undefined,
    password: undefined
})

async function onSubmit(event: FormSubmitEvent<Schema>) {
    console.log(event.data);

    try {
        const { data } = await useFetch<{ message: string }>('http://localhost:8000/login', {
            method: 'POST',
            body: event.data
        });

        console.log("response:", data.value);

        if (data.value?.message) {
            console.log("message:", data.value.message);

            auth.setOtpEmail(event.data.email);
            auth.setPageView('otp');
            router.push('/');
        } else {
            console.error('API response does not contain expected fields.');
        }

    } catch (error) {
        console.error('Error submitting form:', error);
    }
}
</script>

<template>
    <div class="max-w-[420px] w-full flex flex-col items-center justify-center">
        <div class="flex flex-col items-center justify-center gap-2">
            <svg width="98" height="105" viewBox="0 0 98 105" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M77.9287 104.619V43.0276L49.1941 104.619L20.4594 43.0276V104.619H0.386719V0H20.4439L49.1787 61.6071L77.9287 0H98.0018V104.619H77.9287Z"
                    fill="#DA251C" />
            </svg>
            <svg width="91" height="12" viewBox="0 0 91 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M10.5978 3.28326H10.0043C9.84502 2.81585 9.58812 2.31469 9.23357 1.78063C8.88415 1.24613 8.56043 0.958494 8.2624 0.917278C8.09797 0.89667 7.89501 0.878692 7.65354 0.863345C7.41203 0.847999 7.20393 0.840109 7.0292 0.840109H6.66698V9.41878C6.66698 9.60338 6.70035 9.7678 6.76717 9.91206C6.83395 10.0506 6.96501 10.1611 7.16026 10.2431C7.27843 10.2896 7.46083 10.3382 7.70747 10.3895C7.95924 10.436 8.17251 10.4694 8.3472 10.49V11.0911H2.25058V10.49C2.39957 10.4746 2.60771 10.454 2.87487 10.4281C3.14721 10.3974 3.3322 10.3615 3.42985 10.3203C3.63023 10.2383 3.76383 10.1278 3.83061 9.98879C3.89743 9.85023 3.9308 9.6858 3.9308 9.49551V0.840109H3.56858C3.39385 0.840109 3.18575 0.847999 2.94424 0.863345C2.70277 0.878692 2.49981 0.89667 2.33538 0.917278C2.03735 0.958494 1.71104 1.24613 1.3565 1.78063C1.00712 2.31469 0.752766 2.81585 0.59347 3.28326H0V0.154344H10.5978V3.28326ZM24.5869 11.0911H18.6752V10.49C18.8037 10.4794 18.9912 10.4641 19.2379 10.4435C19.4845 10.4233 19.6541 10.3922 19.7466 10.351C19.9367 10.2742 20.0677 10.1738 20.1396 10.0506C20.2116 9.92214 20.2475 9.76035 20.2475 9.56523V5.79614H15.5768V9.48017C15.5768 9.65512 15.6128 9.81165 15.6847 9.9502C15.7618 10.0892 15.8902 10.1971 16.0701 10.2742C16.1677 10.315 16.3347 10.3589 16.5711 10.4053C16.8074 10.4514 17.0001 10.4794 17.1491 10.49V11.0911H11.2375V10.49C11.366 10.4847 11.5535 10.4694 11.8002 10.4435C12.0519 10.4128 12.2343 10.3768 12.3474 10.3356C12.5324 10.269 12.6608 10.1686 12.7328 10.0353C12.8047 9.89627 12.8406 9.73448 12.8406 9.54944V1.81132C12.8406 1.63155 12.8073 1.47983 12.7405 1.35662C12.6788 1.23341 12.5478 1.12512 12.3474 1.03304C12.1984 0.965951 12.0031 0.906758 11.7616 0.855457C11.5201 0.798895 11.3454 0.765566 11.2375 0.755481V0.154344H17.1491V0.755481C16.9898 0.765566 16.7997 0.79144 16.5788 0.832656C16.3578 0.873434 16.1883 0.912019 16.0701 0.947974C15.8697 1.01506 15.7361 1.12292 15.6693 1.27156C15.6077 1.41582 15.5768 1.56972 15.5768 1.73415V5.00207H20.2475V1.81132C20.2475 1.63155 20.2142 1.47983 20.1474 1.35662C20.0806 1.23341 19.947 1.12512 19.7466 1.03304C19.613 0.971213 19.4331 0.914646 19.2071 0.863345C18.9861 0.806783 18.8088 0.770827 18.6752 0.755481V0.154344H24.5869V0.755481C24.4224 0.765566 24.2375 0.788807 24.0319 0.824761C23.8264 0.855454 23.6414 0.896673 23.477 0.947974C23.2817 1.01506 23.1507 1.12029 23.0839 1.26411C23.0171 1.40793 22.9837 1.56446 22.9837 1.73415V9.48017C22.9837 9.6652 23.0171 9.82173 23.0839 9.9502C23.1507 10.0787 23.2817 10.187 23.477 10.2742C23.6003 10.3255 23.7776 10.3716 24.0088 10.4128C24.2452 10.454 24.4379 10.4794 24.5869 10.49V11.0911ZM35.3465 2.94433H34.7607C34.6117 2.52822 34.3548 2.10685 33.99 1.68022C33.6252 1.25359 33.2629 1.0019 32.9032 0.924731C32.7491 0.888776 32.5333 0.868607 32.2558 0.863345C31.9835 0.852822 31.7574 0.848004 31.5776 0.848004H29.9898V5.07134H31.1151C31.3977 5.07134 31.6547 5.03802 31.8859 4.97137C32.1171 4.90473 32.3278 4.77626 32.5179 4.58596C32.636 4.46801 32.7543 4.25974 32.8724 3.96158C32.9957 3.66386 33.0754 3.40428 33.1113 3.18329H33.6971V7.74602H33.1113C33.0805 7.53029 33.0009 7.26063 32.8724 6.9366C32.7491 6.60774 32.6309 6.38194 32.5179 6.25873C32.3483 6.07369 32.1479 5.94785 31.9167 5.88076C31.6855 5.80886 31.4183 5.7729 31.1151 5.7729H29.9898V8.9255C29.9898 9.25435 30.0129 9.51612 30.0592 9.71168C30.1106 9.90154 30.2031 10.048 30.3367 10.1506C30.4651 10.2484 30.6398 10.3128 30.8608 10.3435C31.0868 10.3742 31.3926 10.3895 31.778 10.3895C31.9578 10.3895 32.1736 10.3874 32.4254 10.3821C32.6772 10.3768 32.8981 10.3615 33.0882 10.3356C33.3041 10.3102 33.5044 10.2716 33.6894 10.2203C33.8795 10.1686 34.0208 10.0945 34.1133 9.99668C34.36 9.745 34.6374 9.36221 34.9457 8.84833C35.254 8.32918 35.457 7.94113 35.5546 7.68419H36.1173L35.9092 11.0911H25.6505V10.49C25.7944 10.4794 25.9896 10.4593 26.2363 10.4281C26.4829 10.3974 26.6576 10.3615 26.7604 10.3203C26.9557 10.2383 27.0867 10.1352 27.1535 10.012C27.2203 9.88356 27.2536 9.72177 27.2536 9.52665V1.81132C27.2536 1.62628 27.2254 1.47457 27.1689 1.35662C27.1124 1.23341 26.9762 1.12292 26.7604 1.02514C26.6268 0.963318 26.4392 0.906758 26.1977 0.855457C25.9563 0.804156 25.7738 0.770827 25.6505 0.755481V0.154344H35.3465V2.94433ZM56.0797 11.0911H50.1525V10.49C50.3274 10.4746 50.5405 10.4487 50.7922 10.4128C51.0492 10.3768 51.2241 10.3382 51.3166 10.297C51.5065 10.2203 51.6429 10.1146 51.7248 9.98133C51.8073 9.8476 51.8481 9.67792 51.8481 9.47271V1.30269L48.0869 10.914H47.1156C47.0696 10.7443 46.9538 10.4075 46.7688 9.90417C46.589 9.4008 46.4426 8.99741 46.3295 8.69399L43.5627 1.17949V7.83064C43.5627 8.46817 43.6039 8.95356 43.6859 9.28767C43.7732 9.61653 43.9122 9.85813 44.102 10.012C44.2305 10.1199 44.4594 10.2229 44.7882 10.3203C45.1224 10.4181 45.3561 10.4746 45.4894 10.49V11.0911H40.7881V10.49C40.9166 10.4746 41.1244 10.4413 41.4125 10.3895C41.7054 10.333 41.9443 10.2383 42.1289 10.1045C42.3346 9.96073 42.4736 9.71913 42.5455 9.3802C42.6174 9.03556 42.6533 8.54754 42.6533 7.9157V2.49708C42.6533 2.16823 42.6121 1.89595 42.5297 1.68022C42.4477 1.45923 42.3245 1.28472 42.1601 1.15624C41.9544 0.997079 41.7439 0.894043 41.5278 0.848004C41.3121 0.801526 41.0937 0.770827 40.8727 0.755481V0.154344H45.9059L48.6034 7.37594L50.8773 1.51053C50.954 1.2948 51.0285 1.03786 51.1005 0.740139C51.1724 0.44198 51.211 0.246861 51.2162 0.154344H56.0644V0.755481C55.9 0.765566 55.7276 0.786173 55.5479 0.816866C55.3681 0.847998 55.1958 0.888781 55.0313 0.940521C54.831 1.00717 54.6972 1.1124 54.6306 1.25622C54.5692 1.40004 54.5381 1.55964 54.5381 1.73415V9.48017C54.5381 9.6652 54.5692 9.82173 54.6306 9.9502C54.6972 10.0739 54.831 10.1817 55.0313 10.2742C55.1344 10.3203 55.301 10.3641 55.5325 10.4053C55.7689 10.4461 55.9513 10.4746 56.0797 10.49V11.0911ZM69.0747 11.0911H63.1167V10.49C63.3939 10.4694 63.7205 10.4207 64.0954 10.3435C64.4707 10.2611 64.658 10.1611 64.658 10.0427C64.658 10.0019 64.6531 9.95547 64.6426 9.90417C64.6374 9.85286 64.6172 9.78358 64.5812 9.69589L63.6486 7.42988H59.8716C59.7844 7.64078 59.6866 7.8872 59.5787 8.17001C59.4761 8.45239 59.3862 8.70451 59.3091 8.9255C59.2113 9.21314 59.1525 9.42097 59.1319 9.54944C59.1166 9.67791 59.1087 9.7678 59.1087 9.81954C59.1087 9.98397 59.2319 10.1252 59.4787 10.2431C59.7304 10.3562 60.1465 10.4387 60.7271 10.49V11.0911H56.2415V10.49C56.4112 10.4794 56.6011 10.454 56.812 10.4128C57.0277 10.3668 57.1974 10.3049 57.3206 10.2278C57.5311 10.1045 57.7086 9.95284 57.8525 9.77306C58.0015 9.59329 58.1248 9.3802 58.2225 9.13334C58.8184 7.68945 59.4143 6.24294 60.0106 4.79424C60.6118 3.34509 61.2743 1.74687 61.9991 0H63.5403C64.5475 2.47692 65.3363 4.43425 65.9067 5.87331C66.4772 7.31193 66.9626 8.50413 67.3633 9.44947C67.4304 9.60337 67.515 9.745 67.6176 9.87348C67.7207 9.99669 67.8671 10.1146 68.057 10.2278C68.2008 10.3102 68.3679 10.3716 68.5582 10.4128C68.748 10.454 68.9203 10.4794 69.0747 10.49V11.0911ZM63.3325 6.66694L61.7448 2.70536L60.1799 6.66694H63.3325ZM79.4717 7.58422L79.256 11.0911H69.1825V10.49C69.3623 10.4746 69.5728 10.4514 69.8144 10.4207C70.056 10.3847 70.2151 10.351 70.2923 10.3203C70.4773 10.2484 70.6058 10.1484 70.6777 10.0199C70.7496 9.89145 70.7856 9.72703 70.7856 9.52665V1.81132C70.7856 1.62628 70.7571 1.47457 70.701 1.35662C70.6444 1.23341 70.508 1.12292 70.2923 1.02514C70.1331 0.953233 69.9402 0.896674 69.7144 0.855457C69.4934 0.809418 69.3158 0.776089 69.1825 0.755481V0.154344H75.1865V0.755481C75.0221 0.770827 74.827 0.794068 74.6007 0.824761C74.3797 0.850631 74.1872 0.888781 74.0228 0.940521C73.8224 1.00717 73.6887 1.1124 73.622 1.25622C73.555 1.39521 73.5216 1.55438 73.5216 1.73415V8.9255C73.5216 9.26444 73.5449 9.53147 73.5909 9.72703C73.6374 9.92215 73.7273 10.066 73.861 10.1585C73.9943 10.2563 74.1793 10.3203 74.4157 10.351C74.6573 10.3768 74.9888 10.3895 75.4101 10.3895C75.821 10.3895 76.2191 10.3668 76.6045 10.3203C76.9952 10.269 77.2754 10.1611 77.4446 9.99668C77.7068 9.73448 77.9739 9.36704 78.2466 8.89437C78.5237 8.41644 78.7447 7.97972 78.9091 7.58422H79.4717ZM90.2931 7.58422L90.0774 11.0911H80.0035V10.49C80.1833 10.4746 80.3942 10.4514 80.6358 10.4207C80.8774 10.3847 81.0366 10.351 81.1137 10.3203C81.2983 10.2484 81.4268 10.1484 81.4987 10.0199C81.5711 9.89145 81.607 9.72703 81.607 9.52665V1.81132C81.607 1.62628 81.5785 1.47457 81.522 1.35662C81.4654 1.23341 81.3295 1.12292 81.1137 1.02514C80.9541 0.953233 80.7617 0.896674 80.5354 0.855457C80.3144 0.809418 80.1373 0.776089 80.0035 0.755481V0.154344H86.0079V0.755481C85.8435 0.770827 85.648 0.794068 85.4222 0.824761C85.2012 0.850631 85.0082 0.888781 84.8438 0.940521C84.6434 1.00717 84.5101 1.1124 84.443 1.25622C84.3764 1.39521 84.3431 1.55438 84.3431 1.73415V8.9255C84.3431 9.26444 84.3663 9.53147 84.4124 9.72703C84.4584 9.92215 84.5487 10.066 84.682 10.1585C84.8158 10.2563 85.0008 10.3203 85.2371 10.351C85.4787 10.3768 85.8102 10.3895 86.2311 10.3895C86.6424 10.3895 87.0406 10.3668 87.426 10.3203C87.8166 10.269 88.0964 10.1611 88.2661 9.99668C88.5283 9.73448 88.7953 9.36704 89.0676 8.89437C89.3452 8.41644 89.5661 7.97972 89.7306 7.58422H90.2931Z"
                    fill="#DA251C" />
            </svg>
            <svg width="51" height="9" viewBox="0 0 51 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M8.34265 5.15763C8.23646 5.16815 8.14223 5.17999 8.06002 5.19358C7.9778 5.20761 7.87507 5.23479 7.75173 5.27601C7.61128 5.3203 7.51881 5.39396 7.47426 5.497C7.42972 5.5996 7.40749 5.70747 7.40749 5.82059V6.6686C7.40749 6.8396 7.40919 6.97859 7.41261 7.0847C7.41603 7.1873 7.42116 7.31577 7.42801 7.47011C7.08547 7.67532 6.57847 7.86912 5.90708 8.05065C5.23907 8.23218 4.62421 8.32294 4.06239 8.32294C3.53487 8.32294 3.03988 8.24227 2.57743 8.08135C2.11497 7.92043 1.70908 7.67883 1.35967 7.35699C1.01025 7.03822 0.734494 6.64272 0.532403 6.17005C0.333688 5.69738 0.234375 5.15587 0.234375 4.5464C0.234375 3.9777 0.328559 3.45198 0.516969 2.96878C0.70538 2.48603 0.977714 2.06948 1.33397 1.72002C1.68339 1.37406 2.10813 1.10704 2.60825 0.918498C3.11183 0.730395 3.66847 0.636118 4.27821 0.636118C4.69274 0.636118 5.0764 0.687418 5.42919 0.79002C5.78203 0.889553 6.07322 0.997423 6.30272 1.11406L6.62131 0.831241H7.06833L7.11459 3.49275H6.66239C6.40207 2.69474 6.09032 2.10236 5.72722 1.71519C5.36413 1.32802 4.90509 1.13422 4.35016 1.13422C3.69246 1.13422 3.18375 1.4223 2.82407 1.99757C2.46781 2.57328 2.2897 3.36604 2.2897 4.37671C2.2897 5.44877 2.46439 6.288 2.81381 6.89441C3.16665 7.50081 3.66506 7.80379 4.30908 7.80379C4.61048 7.80379 4.87769 7.7595 5.11064 7.6705C5.34698 7.57798 5.53026 7.47187 5.66044 7.35173V5.8719C5.66044 5.74868 5.63817 5.64608 5.59362 5.56365C5.54912 5.47815 5.46006 5.40449 5.32646 5.34266C5.22368 5.29487 5.09521 5.25541 4.94109 5.22471C4.78692 5.19358 4.65845 5.17166 4.55567 5.15763V4.75687H8.34265V5.15763ZM19.2856 8.12256H16.4903C16.0073 7.38242 15.6048 6.79356 15.2828 6.35508C14.9642 5.91661 14.5669 5.40931 14.0907 4.83403H13.8081V7.04875C13.8081 7.17196 13.8304 7.27632 13.8749 7.36226C13.9228 7.44776 14.0119 7.51966 14.1421 7.57798C14.2072 7.60516 14.3082 7.63454 14.4452 7.66524C14.5857 7.69286 14.7056 7.71128 14.8049 7.7218V8.12256H10.9152V7.7218C11.0146 7.71128 11.1447 7.69769 11.3057 7.68058C11.4702 7.65998 11.5866 7.6363 11.6552 7.60868C11.7853 7.55387 11.8727 7.48546 11.9172 7.40303C11.9617 7.31753 11.984 7.20967 11.984 7.07944V1.93619C11.984 1.81254 11.9652 1.70994 11.9275 1.62794C11.8898 1.54551 11.799 1.4736 11.6552 1.41178C11.5455 1.36749 11.4154 1.32978 11.2646 1.29909C11.1173 1.26796 11.0009 1.2456 10.9152 1.232V0.831241H15.0053C15.9199 0.831241 16.6135 0.975056 17.0862 1.26269C17.5624 1.54726 17.8005 1.97872 17.8005 2.55794C17.8005 3.06832 17.6531 3.47916 17.3585 3.79091C17.0673 4.09916 16.6223 4.34075 16.0227 4.51526C16.2556 4.81693 16.5263 5.1664 16.8345 5.56365C17.1463 5.9609 17.4699 6.36692 17.8057 6.78128C17.9118 6.91501 18.0556 7.07944 18.2372 7.27456C18.4222 7.46661 18.5849 7.58456 18.7256 7.62928C18.8041 7.6534 18.9036 7.67401 19.0233 7.69111C19.147 7.70821 19.2343 7.71829 19.2856 7.7218V8.12256ZM15.7863 2.70175C15.7863 2.21505 15.6493 1.86077 15.3753 1.63802C15.1047 1.41177 14.7176 1.29909 14.214 1.29909H13.8081V4.35084H14.1986C14.7022 4.35084 15.0927 4.2193 15.3701 3.95534C15.6476 3.69182 15.7863 3.27352 15.7863 2.70175ZM28.24 1.64329C28.5995 1.97214 28.8841 2.36939 29.0928 2.83505C29.3055 3.30114 29.4116 3.83213 29.4116 4.42801C29.4116 4.959 29.3226 5.46456 29.1441 5.9438C28.9661 6.42349 28.7092 6.83609 28.3737 7.18204C28.0208 7.54202 27.6064 7.82264 27.1302 8.02478C26.654 8.22341 26.0871 8.32294 25.4294 8.32294C24.8984 8.32294 24.3964 8.23568 23.9237 8.06073C23.451 7.88622 23.0349 7.63279 22.6749 7.30043C22.3189 6.97508 22.0361 6.57915 21.8274 6.11349C21.6182 5.6474 21.5139 5.12869 21.5139 4.55648C21.5139 3.9606 21.6147 3.42084 21.8168 2.93809C22.0225 2.45138 22.3035 2.03528 22.6596 1.68933C23.0126 1.35039 23.4304 1.08994 23.9136 0.908409C24.3999 0.723375 24.9173 0.630859 25.4654 0.630859C26.0099 0.630859 26.5203 0.719866 26.9965 0.897885C27.4762 1.07634 27.8905 1.32452 28.24 1.64329ZM26.9193 6.85845C27.0737 6.5467 27.185 6.19417 27.2534 5.79999C27.3218 5.40624 27.356 4.96075 27.356 4.46397C27.356 4.0426 27.3253 3.6335 27.2635 3.23581C27.2052 2.83505 27.1044 2.47901 26.9605 2.16726C26.8132 1.85551 26.6181 1.60558 26.3747 1.41704C26.1314 1.22849 25.8284 1.13422 25.4654 1.13422C24.8454 1.13422 24.374 1.42888 24.0522 2.01818C23.7303 2.60398 23.5694 3.43312 23.5694 4.50518C23.5694 4.96075 23.6036 5.39089 23.672 5.79472C23.7439 6.19899 23.8553 6.55196 24.0061 6.85319C24.16 7.15836 24.3551 7.39645 24.5919 7.56745C24.8283 7.73539 25.1194 7.81958 25.4654 7.81958C25.8043 7.81958 26.0954 7.73364 26.3388 7.56264C26.5821 7.3912 26.7755 7.15661 26.9193 6.85845ZM40.7246 1.232C40.625 1.24253 40.4812 1.2662 40.2927 1.30391C40.1076 1.33811 39.952 1.39994 39.8253 1.48895C39.695 1.57445 39.6025 1.72879 39.5477 1.95153C39.4964 2.17427 39.4705 2.50795 39.4705 2.95343V5.66625C39.4705 6.4647 39.2 7.10706 38.6589 7.59333C38.1174 8.07959 37.4014 8.32294 36.5109 8.32294C35.473 8.32294 34.6697 8.08836 34.101 7.6192C33.5323 7.1496 33.2482 6.4954 33.2482 5.65617V1.92566C33.2482 1.80596 33.2241 1.70292 33.1763 1.61742C33.1316 1.53192 33.0443 1.45474 32.9141 1.38634C32.8251 1.34162 32.7155 1.30567 32.5852 1.27848C32.455 1.25086 32.3489 1.232 32.2665 1.22191V0.831241H36.0895V1.22191C35.9799 1.22849 35.8685 1.24252 35.7554 1.26269C35.6427 1.28023 35.5278 1.30742 35.4112 1.34513C35.2809 1.38634 35.1937 1.45474 35.1494 1.55077C35.1047 1.64635 35.0823 1.75466 35.0823 1.87436V5.55357C35.0823 6.27617 35.2419 6.80189 35.5603 7.13074C35.879 7.4596 36.3412 7.62402 36.9476 7.62402C37.5439 7.62402 38.0113 7.44249 38.3502 7.07944C38.6896 6.71639 38.8593 6.18189 38.8593 5.47639V3.00474C38.8593 2.56627 38.8282 2.23917 38.7668 2.02344C38.7085 1.8042 38.6177 1.64635 38.4945 1.55077C38.4051 1.47535 38.2494 1.40695 38.0267 1.34513C37.8074 1.2833 37.6535 1.2456 37.5645 1.232V0.831241H40.7246V1.232ZM50.1311 2.65528C50.1311 3.06656 50.0451 3.42085 49.8741 3.719C49.7062 4.01366 49.4734 4.2535 49.1752 4.43854C48.867 4.63015 48.514 4.76914 48.1167 4.85464C47.7225 4.94014 47.2792 4.98311 46.786 4.98311H46.1896V7.0334C46.1896 7.15661 46.212 7.26447 46.2567 7.35699C46.3045 7.446 46.3935 7.51791 46.5238 7.57272C46.5922 7.60034 46.7035 7.62928 46.8579 7.65998C47.0118 7.69111 47.142 7.71128 47.2481 7.7218V8.12256H43.2971V7.7218C43.3962 7.71128 43.5281 7.69769 43.6926 7.68058C43.857 7.65998 43.9719 7.6363 44.0368 7.60868C44.1705 7.55387 44.2577 7.48722 44.299 7.40829C44.3433 7.32937 44.3656 7.21975 44.3656 7.07944V1.93619C44.3656 1.81605 44.345 1.71344 44.3042 1.62794C44.263 1.53849 44.174 1.46483 44.0368 1.40695C43.9407 1.36574 43.8127 1.32978 43.6513 1.29909C43.4939 1.26445 43.3755 1.24253 43.2971 1.232V0.831241H47.3205C48.2623 0.831241 48.966 0.98207 49.4321 1.2833C49.8978 1.58146 50.1311 2.03879 50.1311 2.65528ZM48.1268 2.91748C48.1268 2.36939 48.0154 1.96337 47.7931 1.69985C47.5739 1.43238 47.1815 1.29909 46.6163 1.29909H46.1896V4.49992H46.4058C46.9675 4.49992 47.3937 4.37145 47.6853 4.1145C47.9795 3.85449 48.1268 3.45504 48.1268 2.91748Z"
                    fill="#DA251C" />
            </svg>
        </div>
        <div class="space-y-4 mt-8">
            <h1 class=" font-bold text-3xl text-primary-app">Sign In</h1>
            <small>Welcome to M - Authentication, sign in with your email and password
                as a Single Sign-On (SSO) to access your account & workflows:</small>
            <UForm :schema="schema" :state="state" class="space-y-2 w-full" @submit="onSubmit">
                <UFormGroup name="email">
                    <UInput v-model="state.email" size="xl" inputClass="p-4" placeholder="Email" />
                </UFormGroup>
                <UFormGroup name="password" class="relative">
                    <UInput placeholder="Password" size="xl" inputClass="p-4" v-model="state.password"
                        :type="auth.hiddenPassword ? 'password' : 'text'" />
                    <span @click="auth.togglePasswordVisibility"
                        class="cursor-pointer text-gray-500 absolute dark:text-gray-400 z-50 top-[19px] right-4 flex justify-center items-center">
                        <UIcon :name="auth.hiddenPassword
                            ? 'i-heroicons-eye-20-solid'
                            : 'i-heroicons-eye-slash-20-solid'
                            " class="w-5 h-5" />
                    </span>
                </UFormGroup>
                <div class="text-sm pb-2">
                    <span @click="auth.setPageView('forgotPassword')" to="/ForgotPassword" class="cursor-pointer -mt-1">
                        Forgot Password?
                    </span>
                </div>
                <UButton type="submit" block size="xl" :padded="false" :ui="{ font: '!text-sm' }"
                    class="dark:text-slate-100 py-4">
                    Sign In
                </UButton>
            </UForm>
            <p class="text-center text-sm pb-4 pt-2">
                Don’t have an account?
                <button @click="auth.setPageView('signUp'); router.push('/');" type="button"
                    class="text-primary-app dark:text-primary-app-400 font-bold">
                    Sign Up
                </button>
            </p>
            <small class="text-center text-xs">
                Thank you for using our service. If you have any questions or need further assistance, please do not
                hesitate
                to contact us.
            </small>
        </div>
    </div>
</template>